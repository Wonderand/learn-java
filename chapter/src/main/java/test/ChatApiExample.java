package test;import com.alibaba.fastjson.JSONObject;import com.alibaba.xingchen.ApiClient;import com.alibaba.xingchen.ApiException;import com.alibaba.xingchen.api.ChatApiSub;import com.alibaba.xingchen.auth.HttpBearerAuth;import com.alibaba.xingchen.model.*;import io.reactivex.Flowable;import java.util.Arrays;public class ChatApiExample {    private static final String APP_KEY = "lm-FmtwQyJBtl1DCiDbNv00PQ==";    public static void main(String[] args) throws ApiException {        ChatApiSub api = new ChatApiSub();        ApiClient apiClient = new ApiClient();        apiClient.setBasePath("https://nlp.aliyuncs.com");        apiClient.addDefaultHeader("X-DashScope-SSE", "disable");        // Configure HTTP bearer authorization: Authorization        HttpBearerAuth authorization = (HttpBearerAuth) apiClient.getAuthentication("Authorization");        authorization.setBearerToken(APP_KEY);        api.setApiClient(apiClient);        ResultDTOChatResult result = api.chat(buildChatReqParams());        System.out.println(JSONObject.toJSONString(result));    }    private static ChatReqParams buildChatReqParams() {        return ChatReqParams.builder()                .botProfile(                        CharacterKey.builder()                                // 星尘预制角色                                .characterId("c39797a35ad243f1a85baaa6e1ec37e0")                                .version(1)                                .name("角色名")                                .build()                )                .modelParameters(                        //模型参数                        ModelParameters.builder()                                .seed(1683806810L)                                .topP(0.9)                                .temperature(0.92)                                .build()                )                .userProfile(                        UserProfile.builder()                                .userId("1234")                                .build()                )                .messages(                        Arrays.asList(                                //对话历史                                Message.builder()                                        .name("角色名")                                        .content("你好")                                        .role("assistant")                                        .build(),                                Message.builder()                                        .name("用户名")                                        .content("我叫小明。")                                        .role("user")                                        .build()                        )                )                .build();    }}