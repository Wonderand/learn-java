package web.socket;import java.io.*;import java.net.InetAddress;import java.net.Socket;import java.net.UnknownHostException;/** * @Classname TcpClient * @Pakage: web.socket * @Author: hzr * @Description TODO * @Date 2024/5/4 21:28 * @Created by 22906 * @Version 1.0.0 */public class TcpClient {    public static void main(String[] args) throws IOException {        //1.连接服务器端（ip，端口），如果连接成功返回socket        Socket socket = new Socket(InetAddress.getLocalHost(), 9999);        System.out.println("客户端socket返回=" + socket);        //2.连接上后，生成socket，通过socket.getOutputStream()        OutputStream outputStream = socket.getOutputStream();        //3.通过输出流，写入数据到数据管道//        outputStream.write("hello, server".getBytes());        // 字符流        BufferedWriter bufferedWriter = new BufferedWriter(new OutputStreamWriter(outputStream));        bufferedWriter.write("hello server！字符流");        bufferedWriter.newLine();// 插入一个换行，表示写入内容结束！！！！        bufferedWriter.flush();// 字符流手动刷新        // 设置结束标记//        socket.shutdownOutput();        //4.获取socket输入流，读取字节并显示        InputStream inputStream = socket.getInputStream();//        byte[] buf = new byte[1024];//        int redLen = 0;//        while ((redLen = inputStream.read(buf)) != -1) {//            System.out.println(new String(buf, 0, redLen));//        }        BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(inputStream));        String s = bufferedReader.readLine();        System.out.println(s);        //5.关闭对象和socket//        outputStream.close();//        inputStream.close();        bufferedWriter.close();        bufferedReader.close();        socket.close();        System.out.println("客户端退出...");    }}