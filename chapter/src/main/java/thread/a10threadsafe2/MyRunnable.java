package thread.a10threadsafe2;/** * @Classname MyRunnable * @Pakage: thread.a10threadsafe2 * @Author: hzr * @Description TODO * @Date 2025/5/26 14:51 * @Created by 22906 * @Version 1.0.0 */public class MyRunnable implements Runnable {    int ticket = 0;    @Override    public void run() {        //1、循环        while (true) {            //2、同步代码块（同步方法）            synchronized (MyRunnable.class) {                if (method()) {                    break;                }            }        }    }    private synchronized boolean method() {        //3、判断共享数据是否到了末尾，如果到了末尾        if (ticket == 100) {            return true;        } else {            //4、判断共享数据是否到了末尾，如果没有到末尾            try {                Thread.sleep(10);            } catch (InterruptedException e) {                e.printStackTrace();            }            ticket++;            System.out.println(Thread.currentThread().getName() + "正在卖第" + ticket + "张票");        }        return false;    }}